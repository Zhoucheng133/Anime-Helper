import{d as y,u as c,e as r,c as f,h as s,i,k as u,g as d,w as g,j as w,b as x,l as V,o as _,p as b,q as k,v as N,_ as B}from"./index-462V7mWl.js";import{s as m}from"./index-BvykPrIl.js";const C={class:"body"},H={class:"panel"},K={class:"item"},I={class:"item"},T=y({__name:"login",setup(U){const p=c(),v=V(),o=r(""),a=r("");document.title="AnimeHelper | 登录";const l=async()=>{const{data:t}=await b.post(`${k}/api/login`,{username:o.value,password:a.value});t.ok?(localStorage.setItem("token",t.msg),N().token=t.msg,v.push("/list")):p.add({severity:"error",summary:"登录失败",detail:t.msg,life:3e3})};return(t,e)=>(_(),f("div",C,[s("div",H,[e[5]||(e[5]=s("div",{class:"title"},"登录",-1)),e[6]||(e[6]=s("div",{class:"sub"},"Hi, 欢迎回来👋",-1)),s("div",K,[e[2]||(e[2]=s("div",{className:"label"},"用户名",-1)),i(d(m),{type:"text",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),style:{width:"100%"},onKeyup:u(l,["enter"])},null,8,["modelValue"])]),s("div",I,[e[3]||(e[3]=s("div",{className:"label"},"密码",-1)),i(d(m),{type:"password",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),style:{width:"100%"},onKeyup:u(l,["enter"])},null,8,["modelValue"])]),i(d(w),{style:{"margin-top":"30px",width:"100%","margin-bottom":"120px"},onClick:l},{default:g(()=>e[4]||(e[4]=[x("登录")])),_:1})])]))}}),q=B(T,[["__scopeId","data-v-784b05a9"]]);export{q as default};

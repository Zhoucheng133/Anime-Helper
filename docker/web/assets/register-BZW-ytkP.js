import{d as f,u as w,e as m,c as g,h as s,i,k as p,g as n,w as V,j as c,b as x,p as b,q as N,l as _,o as k,_ as K}from"./index-462V7mWl.js";import{s as v}from"./index-BvykPrIl.js";const B={class:"body"},C={class:"panel"},H={class:"item"},U={class:"item"},T={class:"item"},$=f({__name:"register",setup(j){const t=w(),y=_(),r=m(""),a=m(""),o=m("");document.title="AnimeHelper | 注册";const d=async()=>{if(r.value.length==0){t.add({severity:"error",summary:"注册失败",detail:"用户名不能为空",life:3e3});return}else if(a.value.length==0){t.add({severity:"error",summary:"注册失败",detail:"密码不能为空",life:3e3});return}else if(o.value.length==0){t.add({severity:"error",summary:"注册失败",detail:"重复密码不能为空",life:3e3});return}else if(a.value!=o.value){t.add({severity:"error",summary:"注册失败",detail:"两次密码输入不一致",life:3e3});return}const{data:u}=await b.post(`${N}/api/register`,{username:r.value,password:a.value});u.ok?(t.add({severity:"success",summary:"注册成功",detail:"正在跳转到登录",life:3e3}),y.replace("/login")):t.add({severity:"error",summary:"注册失败",detail:u.msg,life:3e3})};return(u,e)=>(k(),g("div",B,[s("div",C,[e[7]||(e[7]=s("div",{class:"title"},"注册",-1)),e[8]||(e[8]=s("div",{class:"sub"},"Hi, 从这里开始吧👋",-1)),s("div",H,[e[3]||(e[3]=s("div",{className:"label"},"用户名",-1)),i(n(v),{type:"text",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),style:{width:"100%"},onKeyup:p(d,["enter"])},null,8,["modelValue"])]),s("div",U,[e[4]||(e[4]=s("div",{className:"label"},"密码",-1)),i(n(v),{type:"password",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value=l),style:{width:"100%"},onKeyup:p(d,["enter"])},null,8,["modelValue"])]),s("div",T,[e[5]||(e[5]=s("div",{className:"label"},"重复密码",-1)),i(n(v),{type:"password",modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value=l),style:{width:"100%"},onKeyup:p(d,["enter"])},null,8,["modelValue"])]),i(n(c),{style:{"margin-top":"30px",width:"100%","margin-bottom":"120px"},onClick:d},{default:V(()=>e[6]||(e[6]=[x("注册")])),_:1})])]))}}),E=K($,[["__scopeId","data-v-4f4d6ddc"]]);export{E as default};

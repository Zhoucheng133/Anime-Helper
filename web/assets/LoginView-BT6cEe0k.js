import{a as f,_ as c}from"./_plugin-vue_export-helper-BsQhiAd-.js";import{c as w,r,e as b,f as k,h as e,g as u,u as d,q as p,y as x,m as n,a as L,b as B,j as m}from"./index-8dv08548.js";const H={class:"bg"},V={class:"main"},C={class:"panel"},R={class:"item"},U={class:"item"},y=w({__name:"LoginView",setup(z){document.title="AnimeHelper | 登录";let t=r(""),a=r("");const v=x(),i=async()=>{if(t.value.length==0){n.error("用户名不能为空");return}else if(a.value.length==0){n.error("密码不能为空");return}const l=(await L.post(`${B}/api/login`,{username:t.value,password:a.value})).data;l.ok?(localStorage.setItem("token",l.msg),v.push("/")):n.error(`登录失败: ${l.msg}`)};return(l,s)=>{const g=m("a-input"),_=m("a-input-password");return b(),k("div",H,[s[6]||(s[6]=e("div",{class:"topbar"},[e("img",{src:f,alt:"",width:"40px"}),e("div",{class:"title"},"AnimeHelper | 登录")],-1)),e("div",V,[e("div",C,[s[4]||(s[4]=e("div",{class:"panelTitle"},"登录",-1)),s[5]||(s[5]=e("div",{class:"panelSubTitle"},"Hi, 欢迎回来👋",-1)),e("div",R,[s[2]||(s[2]=e("div",{class:"itemLabel"},"用户名",-1)),u(g,{size:"large",value:d(t),"onUpdate:value":s[0]||(s[0]=o=>p(t)?t.value=o:t=o)},null,8,["value"])]),e("div",U,[s[3]||(s[3]=e("div",{class:"itemLabel"},"密码",-1)),u(_,{size:"large",value:d(a),"onUpdate:value":s[1]||(s[1]=o=>p(a)?a.value=o:a=o),onPressEnter:i},null,8,["value"])]),e("div",{class:"loginButton",onClick:i},"登录")])]),s[7]||(s[7]=e("div",null,null,-1))])}}}),I=c(y,[["__scopeId","data-v-39378d24"]]);export{I as default};

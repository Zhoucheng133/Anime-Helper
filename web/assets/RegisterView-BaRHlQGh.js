import{a as w,_ as b}from"./_plugin-vue_export-helper-BsQhiAd-.js";import{c,r as n,e as x,f as R,h as s,g as u,u as d,q as p,y as k,m as o,a as B,b as L,j as g}from"./index-iTMpOYeB.js";const U={class:"bg"},V={class:"main"},z={class:"panel"},C={class:"item"},H={class:"item"},y={class:"item"},A=c({__name:"RegisterView",setup(E){document.title="AnimeHelper | 注册";let l=n(""),t=n(""),i=n("");const f=k(),v=async()=>{if(l.value.length==0){o.error("用户名不能为空");return}else if(t.value.length==0){o.error("密码不能为空");return}else if(i.value.length==0){o.error("重复密码不能为空");return}else if(t.value!==i.value){o.error("两次密码不一致");return}const r=(await B.post(`${L}/api/register`,{username:l.value,password:t.value})).data;r.ok==!1?o.error(r.data.msg):(f.push("/login"),o.success("注册成功"))};return(r,e)=>{const _=g("a-input"),m=g("a-input-password");return x(),R("div",U,[e[8]||(e[8]=s("div",{class:"topbar"},[s("img",{src:w,alt:"",width:"40px"}),s("div",{class:"title"},"AnimeHelper | 注册")],-1)),s("div",V,[s("div",z,[e[6]||(e[6]=s("div",{class:"panelTitle"},"注册",-1)),e[7]||(e[7]=s("div",{class:"panelSubTitle"},"Hi, 从这里开始吧👋",-1)),s("div",C,[e[3]||(e[3]=s("div",{class:"itemLabel"},"用户名",-1)),u(_,{size:"large",value:d(l),"onUpdate:value":e[0]||(e[0]=a=>p(l)?l.value=a:l=a)},null,8,["value"])]),s("div",H,[e[4]||(e[4]=s("div",{class:"itemLabel"},"密码",-1)),u(m,{size:"large",value:d(t),"onUpdate:value":e[1]||(e[1]=a=>p(t)?t.value=a:t=a)},null,8,["value"])]),s("div",y,[e[5]||(e[5]=s("div",{class:"itemLabel"},"重复密码",-1)),u(m,{size:"large",value:d(i),"onUpdate:value":e[2]||(e[2]=a=>p(i)?i.value=a:i=a),onPressEnter:v},null,8,["value"])]),s("div",{class:"loginButton",onClick:v},"注册")])]),e[9]||(e[9]=s("div",null,null,-1))])}}}),j=b(A,[["__scopeId","data-v-6488d3c5"]]);export{j as default};

import{d as w,r as u,c as S,a as e,b as c,u as _,i as p,e as k,m as n,f as x,g as C,h as m,o as R,p as B,k as I}from"./index-CxFs05ZP.js";import{C as f,_ as L}from"./_plugin-vue_export-helper-CPUUp3oc.js";const t=r=>(B("data-v-efd8bae2"),r=r(),I(),r),U={class:"bg"},V=t(()=>e("div",{class:"topbar"},[e("div",{class:"title"},"AnimeGo")],-1)),z={class:"main"},A={class:"panel"},H=t(()=>e("div",{class:"panelTitle"},"注册",-1)),y=t(()=>e("div",{class:"panelSubTitle"},"Hi, 从这里开始吧👋",-1)),G={class:"item"},N=t(()=>e("div",{class:"itemLabel"},"用户名",-1)),T={class:"item"},E=t(()=>e("div",{class:"itemLabel"},"密码",-1)),J={class:"item"},j=t(()=>e("div",{class:"itemLabel"},"重复密码",-1)),q=t(()=>e("div",null,null,-1)),D=w({__name:"RegisterView",setup(r){document.title="AnimeGo | 注册";let o=u(""),a=u(""),i=u("");const g=k(),h=async()=>{if(o.value.length==0){n.error("用户名不能为空");return}else if(a.value.length==0){n.error("密码不能为空");return}else if(i.value.length==0){n.error("重复密码不能为空");return}else if(a.value!==i.value){n.error("两次密码不一致");return}const d=(await x.post(`${C}/api/account/register`,{username:o.value,password:f.SHA256(a.value).toString(f.enc.Hex)})).data;d.ok==!1?n.error(d.data.msg):(g.push("/login"),n.success("注册成功"))};return(d,l)=>{const b=m("a-input"),v=m("a-input-password");return R(),S("div",U,[V,e("div",z,[e("div",A,[H,y,e("div",G,[N,c(b,{size:"large",value:_(o),"onUpdate:value":l[0]||(l[0]=s=>p(o)?o.value=s:o=s)},null,8,["value"])]),e("div",T,[E,c(v,{size:"large",value:_(a),"onUpdate:value":l[1]||(l[1]=s=>p(a)?a.value=s:a=s)},null,8,["value"])]),e("div",J,[j,c(v,{size:"large",value:_(i),"onUpdate:value":l[2]||(l[2]=s=>p(i)?i.value=s:i=s)},null,8,["value"])]),e("div",{class:"loginButton",onClick:h},"注册")])]),q])}}}),M=L(D,[["__scopeId","data-v-efd8bae2"]]);export{M as default};
